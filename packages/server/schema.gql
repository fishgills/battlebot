# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type CharacterModel {
  id: String!
  name: String!
  created_at: DateTime!
  updated_at: DateTime!
  owner: String!
  attacking: [CombatModel!]
  defending: [CombatModel!]
  strength: Float!
  defense: Float!
  vitality: Float!
  level: Float!
  xp: Float!
  hp: Float!
  rolls: Float!
  gold: Float!
  teamId: String!
  extraPoints: Float!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type WhoGoesFirst {
  roll: Float!
  modifier: Float!
}

type CombatRound {
  attacker: CharacterModel!
  defender: CharacterModel!
  hit: Boolean!
  damage: Float
  attackRoll: Float!
  attackBonus: Float!
  defenderDefense: Float!
  defenderHealth: Float!
}

type CombatLog {
  combat: [CombatRound!]!
}

type CombatModel {
  id: String!
  attacker: CharacterModel
  attackerId: String!
  defender: CharacterModel
  defenderId: String!
  log: CombatLog!
  created_at: DateTime!
  updated_at: DateTime!
  winner: CharacterModel!
  loser: CharacterModel!
  rewardGold: Float!
}

type SlackInstallModel {
  id: String!
  team_id: String!
  installObj: JSON!
  channelId: String
}

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type RewardModel {
  id: String!
  to: String!
  from: String!
  value: Float!
  created_at: DateTime!
  updated_at: DateTime!
}

type Query {
  characters: [CharacterModel!]!
  findByOwner(owner: String!, teamId: String): CharacterModel!
  combats: [CombatModel!]!
  installs: [SlackInstallModel!]!
  install(team_id: String!): SlackInstallModel!
  rewards: [RewardModel!]!
  rewardsGivenToday(user: String!): Int!
  getUserScore(userId: String!, listType: String = "from"): [RewardModel!]!
}

type Mutation {
  reroll(id: String!): CharacterModel!
  createCharacter(input: CreateCharacterInput!): CharacterModel!
  createCombat(input: CreateCombatInput!): CombatModel!
  start(input: CreateCombatInput!): CombatModel!
  createInstall(input: CreateSlackInstallInput!): SlackInstallModel!
  updateInstall(input: UpdateSlackInstallInput!): SlackInstallModel!
  removeInstall(team_id: String!): String!
  giveReward(input: CreateRewardInput!): Boolean!
}

input CreateCharacterInput {
  name: String!
  owner: String!
  teamId: String!
}

input CreateCombatInput {
  attackerId: String!
  defenderId: String!
}

input CreateSlackInstallInput {
  team_id: String!
  channelId: String
}

input UpdateSlackInstallInput {
  team_id: String
  channelId: String
  id: String!
}

input CreateRewardInput {
  from: String!
  to: String!
  value: Float
}
